drop table if exists bug4925;
drop table if exists bug4925_1;
create table bug4925 (id int, c1 int)engine=infinidb;
insert into bug4925 values(1,1),(2,2),(3,3),(4,4);
update bug4925 set id=10 where 1=0 and c1>2;
select count(*) from bug4925 where id=10;
update bug4925 set id=100 where 1=1 and c1>2;
select count(*) from bug4925 where id=10;
create table bug4925_1 (c1 int)engine=infinidb;
insert into bug4925_1 values(10),(100),(1),(2);
update bug4925 join bug4925_1 using (c1) set bug4925.id=1000 where 1=1 and bug4925_1.c1>1;
select count(*) from bug4925 where id=1000;
delete from bug4925 where 1=0 and id>10;
select count(*) from bug4925;
delete from bug4925 where 1=1 and id>10;
select count(*) from bug4925;
truncate bug4925;
drop table bug4925;
drop table bug4925_1;
